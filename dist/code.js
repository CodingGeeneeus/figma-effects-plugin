"use strict";(()=>{figma.showUI(__html__,{themeColors:!0,height:300});figma.ui.onmessage=e=>{if(console.log("Backend msg recieved: "+e.type),e.type==="resize"){console.log("resize recieved");let i=Math.min(e.width,1440)+100,t=Math.min(e.height,1080)+300;figma.ui.resize(i,t)}e.type==="get-selection"&&async function(){let i=figma.currentPage.selection;i.forEach(c=>{c.clone()});let t=figma.flatten(i,figma.currentPage),a=await t.exportAsync({format:"PNG"});figma.ui.postMessage({type:"current-selection",width:t.width,height:t.height,payload:a})}(),e.type==="image-data"&&figma.ui.postMessage({type:"handshake",message:"code.ts: Image received"}),e.type==="cancel"&&figma.closePlugin()};})();
